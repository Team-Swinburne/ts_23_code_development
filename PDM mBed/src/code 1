
unsigned short int Rconst = 23400/31;
unsigned short int Rpull = 1018*(1/3);
unsigned short int k = 1730;



unsigned short int current_convert(unsigned short message)
{
unsigned short int divider_voltage ;
unsigned short int switch_current;
unsigned short int Real_current;
divider_voltage = message/819; // converts decimal ADC value into real divider voltage
switch_current = divider_voltage/(Rpull + Rconst); // converts voltage form ADC to current sense value 
Real_current = k * switch_current;

return Real_current;
}



